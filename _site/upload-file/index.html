<!DOCTYPE html>
<html class="no-js" dir="ltr" lang="en">
  <head>
    <title>CloudApp Developer - Upload File</title>

    <meta charset="utf-8">

    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width = device-width, initial-scale = 1.0, maximum-scale = 1.0, minimum-scale = 1.0, user-scalable = no" name="viewport">

    <!--[if !IE 6]><!-->
    <link href="../stylesheets/screen.css" rel="stylesheet">
    <!--<![endif]-->

    <script src="../javascripts/jquery-1.4.3.min.js"></script>
    <script src="../javascripts/modernizr-1.6.min.js"></script>

    <!--[if IE 6]>
    <link href="http://universal-ie6-css.googlecode.com/files/ie6.0.3.css" rel="stylesheet">
    <![endif]-->

    <!--[if lt IE 9]>
    <script src="../javascripts/selectivizr-1.0.min.js"></script>
    <![endif]-->

    <script>
      $(document).ready(function() {
        $('#quicknav select').change(function() {
          window.location = $(this).val();
        });
      });
    </script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-13203564-3']);
      _gaq.push(['_setDomainName', '.getcloudapp.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>
    <div class="container">
      <header class="row" id="header">
        <div class="col col_4">
          <h1><a href="/">CloudApp Developer</a></h1>
        </div>

        <div class="col col_8">
          <nav>
            <ul>
              <li><a href="http://getcloudapp.com/">Application</a></li>
              <li><a href="http://blog.getcloud.me/">Blog</a></li>
              <li><a href="http://help.getcloud.me/">Support</a></li>
              <li><a href="http://my.cl.ly/">Login</a></li>
            </ul>
          </nav>
        </div>
      </header>

      <section class="row" id="quicknav">
        <select class="col col_12">
          <option value="/" >Welcome</option>

          
            <optgroup label="Basics">
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/common-errors" >Common Errors</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/usage" >Usage</option>
                
              
                
              
                
              
                
              
                
              
            </optgroup>
          
            <optgroup label="Wrapper">
              
                
              
                
              
                
                  <option value="/c-sharp-wrapper" >C#</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/java-wrapper" >Java</option>
                
              
                
              
                
                  <option value="/objective-c-wrapper" >Objective-C</option>
                
              
                
                  <option value="/perl-wrapper" >Perl</option>
                
              
                
                  <option value="/php-wrapper" >PHP</option>
                
              
                
                  <option value="/python-wrapper" >Python</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/ruby-wrapper" >Ruby</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            </optgroup>
          
            <optgroup label="Account">
              
                
              
                
              
                
              
                
                  <option value="/change-default-security" >Change Default Security</option>
                
              
                
                  <option value="/change-email" >Change Email</option>
                
              
                
                  <option value="/change-password" >Change Password</option>
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/forgot-password" >Forgot Password</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/register" >Register</option>
                
              
                
              
                
              
                
                  <option value="/set-custom-domain" >Set Custom Domain</option>
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/view-account-details" >View Account Details</option>
                
              
                
                  <option value="/view-account-stats" >View Account Stats</option>
                
              
                
              
                
              
            </optgroup>
          
            <optgroup label="Items">
              
                
                  <option value="/bookmark-link" >Bookmark Link</option>
                
              
                
                  <option value="/bookmark-multiple-links" >Bookmark Multiple Links</option>
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/change-security-of-item" >Change Security Of Item</option>
                
              
                
              
                
                  <option value="/delete-item" >Delete Item</option>
                
              
                
                  <option value="/empty-trash" >Empty Trash</option>
                
              
                
              
                
              
                
                  <option value="/list-items" >List Items</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/recover-deleted-item" >Recover Deleted Item</option>
                
              
                
              
                
              
                
                  <option value="/rename-item" >Rename Item</option>
                
              
                
              
                
              
                
                  <option value="/streaming-items" >Stream Items</option>
                
              
                
                  <option value="/upload-file" selected>Upload File</option>
                
              
                
                  <option value="/upload-file-with-specific-privacy" >Upload File With Specific Privacy</option>
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/view-item" >View Item</option>
                
              
            </optgroup>
          
            <optgroup label="Gift cards">
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/redeem-gift-card" >Redeem Gift Card</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/view-gift-card" >View Gift Card Details</option>
                
              
                
              
            </optgroup>
          
            <optgroup label="Mac">
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <option value="/raindrops" >Raindrops</option>
                
              
                
                  <option value="/raindrops-metadata" >Raindrops Metadata</option>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            </optgroup>
          
        </select>
      </section>

      <div class="row">
        <section class="col col_8 wikistyle">
          <h1 id='upload_file'>Upload File</h1>

<p>Files are uploaded directly to <a href='http://aws.amazon.com/s3/'>S3</a> to be as fast as possible. The process involves making an initial request to CloudApp retrieving a few parameters, passing them along with the file itself to S3, following the redirect response back to CloudApp, and finally receiving the details of the newly created item.</p>

<p>This process may seem complex at first. Not to worry. There are some great tools out there like <a href='http://charlesproxy.com/'>Charles</a> to make your life a lot easier. Don&#8217;t go it alone!</p>

<h2 id='request_to_upload'>Request to Upload</h2>

<p>Request to upload a file to CloudApp. If the authenticated account is able to upload a file, the response will be some metadata that must be passed to S3 in order to upload a file. Along with the S3 data may be an upload size limitation. It&#8217;s encouraged that you compare the size of the file being uploaded to make sure it&#8217;s smaller than than the maximum allowed size. Otherwise, the file will be fully uploaded only to be rejected for being too large.</p>

<p><strong>Note:</strong> Both <code>uploads_remaining</code> and <code>max_upload_size</code> are optional attributes and may not exist in every request. For example, a reseponse using an account with a CloudApp Pro plan will omit the <code>uploads_remaining</code> attribute since Pro has unlimited uploads.</p>

<h3 id='request'>Request</h3>

<ul>
<li>Requires <a href='/usage/#authentication'>authentication</a></li>

<li>HTTP Method: GET</li>

<li>URL: http://my.cl.ly/items/new</li>
</ul>

<h3 id='response'>Response</h3>

<ul>
<li>
<p>Status: 200 OK</p>
</li>

<li>
<p>Body:</p>

<pre><code>{
  &quot;uploads_remaining&quot;: 10,
  &quot;max_upload_size&quot;:   26214400,
  &quot;url&quot;:               &quot;http://f.cl.ly&quot;,
  &quot;params&quot;: {
    &quot;AWSAccessKeyId&quot;:          &quot;AKIAIDPUZISHSBEOFS6Q&quot;,
    &quot;key&quot;:                     &quot;items/qL/${filename}&quot;,
    &quot;acl&quot;:                     &quot;public-read&quot;,
    &quot;success_action_redirect&quot;: &quot;http://my.cl.ly/items/s3&quot;,
    &quot;signature&quot;:               &quot;2vRWmaSy46WGs0MDUdLHAqjSL8k=&quot;,
    &quot;policy&quot;:                  &quot;eyJleHBpcmF0aW9uIjoiMjAxMC0wNC0wMVQwMDowMDowMFoiLCJjb25kaXRpb25zIjpbeyJidWNrZXQiOiJsaW5lYnJlYWstdGVzdCJ9LHsiYWNsIjoicHVibGljLXJlYWQifSx7InN1Y2Nlc3NfYWN0aW9uX3JlZGlyZWN0IjoiaHR0cDovL215LmNsb3VkYXBwLmxvY2FsL3VwbG9hZHMvczMifSxbInN0YXJ0cy13aXRoIiwiJGtleSIsInVwbG9hZHMvcUwvIl1dfQ==&quot;
  }
}</code></pre>
</li>
</ul>

<h3 id='errors'>Errors</h3>

<p>If the account is using a CloudApp Free plan, there is a maximum daily file upload limit. If that limit has been met, the request will be successful but the <code>params</code> attribute will be missing, <code>uploads_remaining</code> will be 0, and <code>message</code> will be a friendly explanation of the error.</p>

<ul>
<li>
<p>Status: 200 OK</p>
</li>

<li>
<p>Body:</p>

<pre><code>{
  &quot;uploads_remaining&quot;: 10,
  &quot;max_upload_size&quot;:   26214400,
  &quot;messagee&quot;:          &quot;You&#39;ve met the daily upload limit of the Free plan. Upgrade to Pro and upload as much as you want!&quot;
}</code></pre>
</li>
</ul>

<h2 id='upload_file_to_s3'>Upload File to S3</h2>

<p>Use the response from the previous step to construct the file upload request. Each item in <code>params</code> becomes a separate parameter you&#8217;ll need to post to <code>url</code>. Send the file to be uploaded as the parameter named <code>file</code>.</p>

<p><strong>Note:</strong> According to <a href='http://developer.amazonwebservices.com/connect/entry.jspa?externalID=1434'>Amazon&#8217;s documentation</a>, any parameter after <code>file</code> is ignored. Make sure <code>file</code> is last or the upload will be rejected.</p>

<h3 id='request'>Request</h3>

<ul>
<li>HTTP Method: POST</li>

<li>URL: Value of <code>url</code> in response. <em>(e.g., http://f.cl.ly)</em></li>

<li>Post each key and value from <code>params</code> as a separate parameter.</li>

<li>Post the file data as the parameter <code>file</code>.</li>
</ul>

<h3 id='response'>Response</h3>

<ul>
<li>Status: 303 See Other</li>
</ul>

<h2 id='follow_redirect'>Follow Redirect</h2>

<p>Finally, ping CloudApp and receive the details of the newly uploaded file.</p>

<p><strong>Note:</strong> Your HTTP library should handle this step transparently for you. In the unfortunate case that it does not, make the following request to complete the upload process.</p>

<h3 id='request'>Request</h3>

<ul>
<li>Requires <a href='/usage/#authentication'>authentication</a></li>

<li>HTTP Method: GET</li>

<li>URL: Value of <code>Location</code> header from previous response. <em>(e.g., http://my.cl.ly/items/s3)</em></li>
</ul>

<h3 id='response'>Response</h3>

<ul>
<li>
<p>Status: 200 OK</p>
</li>

<li>
<p>Body:</p>

<pre><code>{
  &quot;href&quot;:          &quot;http://my.cl.ly/items/1912559&quot;,
  &quot;name&quot;:          &quot;CloudApp Logo.png&quot;,
  &quot;private&quot;:       false,
  &quot;url&quot;:           &quot;http://cl.ly/2wr4&quot;,
  &quot;content_url&quot;:   &quot;http://cl.ly/2wr4/CloudApp_Logo.png&quot;,
  &quot;item_type&quot;:     &quot;image&quot;,
  &quot;view_counter&quot;:  0,
  &quot;icon&quot;:          &quot;http://my.cl.ly/images/new/item-types/image.png&quot;,
  &quot;remote_url&quot;:    &quot;http://f.cl.ly/items/7c7aea1395c3db0aee18/CloudApp%20Logo.png&quot;,
  &quot;thumbnail_url&quot;: &quot;http://thumbs.cl.ly/2wr4&quot;,
  &quot;redirect_url&quot;:  null,
  &quot;created_at&quot;:    &quot;2010-10-23T19:50:13Z&quot;,
  &quot;updated_at&quot;:    &quot;2010-10-23T19:50:13Z&quot;,
  &quot;deleted_at&quot;:    null
}</code></pre>
</li>
</ul>
        </section>

        <aside class="col col_4" id="sidebar">
          
            <section class="categories">
              <h3>Basics</h3>

              <ul>
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/common-errors" id="basics">Common Errors</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/usage" id="basics">Usage</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            </section>
          
            <section class="categories">
              <h3>Wrapper</h3>

              <ul>
                
                  
                
                  
                
                  
                    
                      <li><a href="/c-sharp-wrapper" id="wrapper">C#</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/java-wrapper" id="wrapper">Java</a></li>
                    
                  
                
                  
                
                  
                    
                      <li><a href="/objective-c-wrapper" id="wrapper">Objective-C</a></li>
                    
                  
                
                  
                    
                      <li><a href="/perl-wrapper" id="wrapper">Perl</a></li>
                    
                  
                
                  
                    
                      <li><a href="/php-wrapper" id="wrapper">PHP</a></li>
                    
                  
                
                  
                    
                      <li><a href="/python-wrapper" id="wrapper">Python</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/ruby-wrapper" id="wrapper">Ruby</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            </section>
          
            <section class="categories">
              <h3>Account</h3>

              <ul>
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/change-default-security" id="account">Change Default Security</a></li>
                    
                  
                
                  
                    
                      <li><a href="/change-email" id="account">Change Email</a></li>
                    
                  
                
                  
                    
                      <li><a href="/change-password" id="account">Change Password</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/forgot-password" id="account">Forgot Password</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/register" id="account">Register</a></li>
                    
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/set-custom-domain" id="account">Set Custom Domain</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/view-account-details" id="account">View Account Details</a></li>
                    
                  
                
                  
                    
                      <li><a href="/view-account-stats" id="account">View Account Stats</a></li>
                    
                  
                
                  
                
                  
                
              </ul>
            </section>
          
            <section class="categories">
              <h3>Items</h3>

              <ul>
                
                  
                    
                      <li><a href="/bookmark-link" id="items">Bookmark Link</a></li>
                    
                  
                
                  
                    
                      <li><a href="/bookmark-multiple-links" id="items">Bookmark Multiple Links</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/change-security-of-item" id="items">Change Security Of Item</a></li>
                    
                  
                
                  
                
                  
                    
                      <li><a href="/delete-item" id="items">Delete Item</a></li>
                    
                  
                
                  
                    
                      <li><a href="/empty-trash" id="items">Empty Trash</a></li>
                    
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/list-items" id="items">List Items</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/recover-deleted-item" id="items">Recover Deleted Item</a></li>
                    
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/rename-item" id="items">Rename Item</a></li>
                    
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/streaming-items" id="items">Stream Items</a></li>
                    
                  
                
                  
                    
                      <li>Upload File</li>
                    
                  
                
                  
                    
                      <li><a href="/upload-file-with-specific-privacy" id="items">Upload File With Specific Privacy</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/view-item" id="items">View Item</a></li>
                    
                  
                
              </ul>
            </section>
          
            <section class="categories">
              <h3>Gift cards</h3>

              <ul>
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/redeem-gift-card" id="gift_cards">Redeem Gift Card</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/view-gift-card" id="gift_cards">View Gift Card Details</a></li>
                    
                  
                
                  
                
              </ul>
            </section>
          
            <section class="categories">
              <h3>Mac</h3>

              <ul>
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                      <li><a href="/raindrops" id="mac">Raindrops</a></li>
                    
                  
                
                  
                    
                      <li><a href="/raindrops-metadata" id="mac">Raindrops Metadata</a></li>
                    
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            </section>
          
        </aside>
      </div>

      <footer class="row" id="footer">
        <div class="col col_8">
          <ul>
            <li>&copy; 2011 Linebreak S.L.</li>
            <li>Powered by <a href="http://heroku.com/">Heroku</a></li>
            <li><a href="http://help.getcloud.me/kb/company/contact/">Contact</a></li>
            <li><a href="http://help.getcloud.me/kb/site-policy/terms-of-service/">Terms</a></li>
            <li><a href="http://help.getcloud.me/kb/site-policy/privacy-policy/">Privacy</a></li>
            <li><a href="/">Developer</a></li>
          </ul>
        </div>

        <div class="col col_4">
          <ul class="right">
            <li><a href='http://www.twitter.com/getcloudapp'>Twitter</a></li>
          </ul>
        </div>
      </footer>
    </div>
  </body>
</html>
