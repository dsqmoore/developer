---
layout: apiv2
title: Retrieve Account Token
categories: drops
---

# Retrieve Account Token

    $ curl -i "http://api.getcloudapp.com/"

    HTTP/1.1 401 Unauthorized
    Content-Type: application/vnd.collection+json; charset=utf-8
    Cache-Control: no-cache
    {
      "collection": {
        "version":  "1.0",
        "href":     "...",
        "template": {
          "data": [
            { "name": "email",    "value": "" },
            { "name": "password", "value": "" }
          ]
        }
      }
    }

Fill `template` with the account email and password, encode each name and value
pair in `data` as `application/x-www-form-urlencoded` or `application/json`, and
`POST` it to the collection's `href`.

    $ curl -i -H "Content-Type: application/json" \
           -X POST \
           -d '{
                 "email":    "arthur@dent.com",
                 "password": "towel"
               }' \
           "http://api.getcloudapp.com/account/token"

    HTTP/1.1 201 Created
    Content-Type: application/vnd.collection+json; charset=utf-8
    Cache-Control: no-cache
    {
      "collection": {
        "version": "1.0",
        "href":    "...",
        "links":   [{ "rel": "root", "href": "..." }],
        "items":   [{
          "href": "...",
          "data": [{ "name": "token", "value": "0gc504cf7e4a51ff8119" }],
        }]
      }
    }

Add the value of the token returned to the `Authorization` header in the format:
`Token token="<value>"`. Follow the link `root`.

    $ curl -i -H 'Authorization: Token token="0gc504cf7e4a51ff8119"' \
           "http://api.getcloudapp.com/"

    HTTP/1.1 200 OK
    Content-Type: application/vnd.collection+json; charset=utf-8
    ETag: "c3cd2b55f0624033128b8bfbacaba89d"
    Cache-Control: max-age=0, private, must-revalidate

    {
      "collection": {
        "version": "1.0",
        "href":    "...",
        "links":   [
          { "rel": "/rels/account", "href": "..." },
          { "rel": "/rels/drops",   "href": "..." }
        ]
      }
    }
